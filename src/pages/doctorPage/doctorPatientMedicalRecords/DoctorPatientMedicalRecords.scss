@use '../../../assets/styles/vars.scss' as *;

.doctor-patient-medical-records {
    background-color: $light-bg;
    min-height: calc(100vh - 100px);
    font-family: 'Inter', 'Segoe UI', sans-serif;
    color: $dark-text;

    // Loading container
    .loading-container {
        @include flex-center;
        flex-direction: column;
        height: 100vh;

        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid rgba($primary-color, 0.2);
            border-radius: 50%;
            border-top-color: $primary-color;
            animation: spin 1s infinite ease-in-out;
            margin-bottom: 1.5rem;
        }

        p {
            font-size: 1.1rem;
            color: $medium-text;
            font-weight: 500;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    }

    // No patient view
    .no-patient-view {
        @include flex-center;
        height: calc(100vh - 100px);

        .no-patient-content {
            @include flex-center;
            flex-direction: column;
            max-width: 500px;
            text-align: center;
            padding: 2rem;
            background-color: white;
            border-radius: $border-radius;
            box-shadow: $shadow-md;

            .no-patient-icon {
                font-size: 4rem;
                color: $medium-text;
                margin-bottom: 1.5rem;
                opacity: 0.5;
            }

            h2 {
                font-size: 1.8rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: $dark-text;
            }

            p {
                font-size: 1.1rem;
                color: $medium-text;
                margin-bottom: 2rem;
            }

            .go-to-patients-btn {
                background-color: $primary-color;
                color: white;
                border: none;
                border-radius: 8px;
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
                font-weight: 500;
                cursor: pointer;
                transition: $transition-standard;

                &:hover {
                    background-color: darken($primary-color, 5%);
                    transform: translateY(-2px);
                    box-shadow: 0 4px 6px rgba($primary-color, 0.2);
                }
            }
        }
    }

    // Medical records container
    .medical-records-container {
        padding: 2rem;

        // Header
        .records-header {
            @include flex-between;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;

            .back-btn {
                display: flex;
                align-items: center;
                padding: 0.6rem 1rem;
                background-color: white;
                border: 1px solid $border-color;
                border-radius: 8px;
                color: $medium-text;
                font-size: 0.9rem;
                font-weight: 500;
                cursor: pointer;
                transition: $transition-standard;

                svg {
                    margin-right: 0.5rem;
                    font-size: 0.9rem;
                }

                &:hover {
                    background-color: $light-bg;
                    color: $primary-color;
                    border-color: rgba($primary-color, 0.3);
                }
            }

            .patient-info {
                h2 {
                    font-size: 1.8rem;
                    font-weight: 600;
                    margin: 0 0 0.25rem;
                    color: $dark-text;
                }

                .patient-meta {
                    font-size: 0.95rem;
                    color: $medium-text;

                    span {
                        &:nth-child(2n) {
                            margin: 0 0.5rem;
                        }
                    }
                }
            }

            .header-actions {
                .refresh-btn {
                    @include flex-center;
                    width: 40px;
                    height: 40px;
                    border-radius: 8px;
                    background-color: white;
                    border: 1px solid $border-color;
                    color: $medium-text;
                    cursor: pointer;
                    transition: $transition-standard;

                    &:hover {
                        background-color: $light-bg;
                        color: $primary-color;
                        border-color: rgba($primary-color, 0.3);
                    }
                }
            }
        }

        // Tabs
        .records-tabs {
            background-color: white;
            border-radius: $border-radius;
            box-shadow: $shadow-md;
            overflow: hidden;

            .tabs-nav {
                display: flex;
                overflow-x: auto;
                border-bottom: 1px solid $border-color;
                background-color: #fcfcfc;

                &::-webkit-scrollbar {
                    height: 4px;
                }

                &::-webkit-scrollbar-track {
                    background: transparent;
                }

                &::-webkit-scrollbar-thumb {
                    background-color: rgba($dark-text, 0.2);
                    border-radius: 4px;
                }

                .tab-btn {
                    display: flex;
                    align-items: center;
                    padding: 1rem 1.25rem;
                    white-space: nowrap;
                    border: none;
                    background: none;
                    color: $medium-text;
                    font-size: 0.95rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;
                    position: relative;

                    svg {
                        margin-right: 0.5rem;
                        font-size: 1rem;
                    }

                    &:hover {
                        color: $primary-color;
                    }

                    &.active {
                        color: $primary-color;
                        font-weight: 600;

                        &::after {
                            content: '';
                            position: absolute;
                            bottom: 0;
                            left: 0;
                            right: 0;
                            height: 3px;
                            background-color: $primary-color;
                            border-top-left-radius: 3px;
                            border-top-right-radius: 3px;
                        }
                    }
                }
            }

            .tab-content {
                padding: 2rem;
            }
        }
    }

    // Summary Tab
    .summary-tab {
        .patient-overview {
            @include card;
            padding: 1.5rem;
            margin-bottom: 2rem;

            .overview-header {
                margin-bottom: 1.5rem;

                h3 {
                    font-size: 1.3rem;
                    font-weight: 600;
                    color: $dark-text;
                    margin: 0;
                }
            }

            .overview-content {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 2rem;

                @media (max-width: $breakpoint-md) {
                    grid-template-columns: 1fr;
                }

                .patient-basic-info {
                    .info-group {
                        margin-bottom: 1.25rem;

                        &:last-child {
                            margin-bottom: 0;
                        }

                        .info-item {
                            margin-bottom: 0.75rem;

                            &:last-child {
                                margin-bottom: 0;
                            }

                            .info-label {
                                display: block;
                                font-size: 0.85rem;
                                color: $medium-text;
                                margin-bottom: 0.25rem;
                            }

                            .info-value {
                                font-size: 0.95rem;
                                color: $dark-text;
                            }
                        }
                    }
                }

                .patient-vitals {
                    h4 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0 0 0.5rem;
                    }

                    .vital-date {
                        font-size: 0.85rem;
                        color: $medium-text;
                        margin-bottom: 1rem;
                    }

                    .vitals-grid {
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        gap: 1rem;
                        margin-bottom: 1rem;

                        .vital-card {
                            display: flex;
                            align-items: center;
                            padding: 1rem;
                            background-color: rgba($primary-color, 0.05);
                            border-radius: 8px;

                            .vital-icon {
                                @include flex-center;
                                width: 40px;
                                height: 40px;
                                border-radius: 8px;
                                background-color: rgba($primary-color, 0.1);
                                color: $primary-color;
                                margin-right: 0.75rem;
                            }

                            .vital-data {
                                .vital-label {
                                    display: block;
                                    font-size: 0.8rem;
                                    color: $medium-text;
                                }

                                .vital-value {
                                    font-size: 1rem;
                                    font-weight: 600;
                                    color: $dark-text;
                                }
                            }
                        }
                    }

                    .view-all-link {
                        color: $primary-color;
                        font-size: 0.9rem;
                        text-decoration: none;
                        font-weight: 500;

                        &:hover {
                            text-decoration: underline;
                        }
                    }
                }
            }
        }

        .summary-sections {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;

            .summary-section {
                @include card;
                padding: 1.5rem;

                .section-header {
                    @include flex-between;
                    margin-bottom: 1rem;

                    h3 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0;
                        display: flex;
                        align-items: center;

                        svg {
                            margin-right: 0.5rem;
                            color: $primary-color;
                        }
                    }

                    .view-all-link {
                        color: $primary-color;
                        font-size: 0.85rem;
                        text-decoration: none;
                        font-weight: 500;

                        &:hover {
                            text-decoration: underline;
                        }
                    }
                }

                .section-content {

                    .allergies-list,
                    .conditions-list,
                    .medications-list {

                        .summary-allergy-item,
                        .summary-condition-item,
                        .summary-medication-item {
                            padding: 0.75rem;
                            border-radius: 8px;
                            background-color: rgba($light-bg, 0.7);
                            margin-bottom: 0.75rem;

                            &:last-child {
                                margin-bottom: 0;
                            }

                            .allergy-header,
                            .condition-header,
                            .medication-header {
                                @include flex-between;
                                margin-bottom: 0.5rem;

                                .allergy-name,
                                .condition-name,
                                .medication-name {
                                    font-size: 0.95rem;
                                    font-weight: 500;
                                }

                                .severity-badge,
                                .status-badge,
                                .medication-dosage {
                                    font-size: 0.75rem;
                                    font-weight: 500;
                                    padding: 0.2rem 0.5rem;
                                    border-radius: 4px;
                                }

                                .severity-badge {
                                    &.high {
                                        background-color: rgba($danger-color, 0.1);
                                        color: $danger-color;
                                    }

                                    &.moderate {
                                        background-color: rgba($follow-up-color, 0.1);
                                        color: darken($follow-up-color, 10%);
                                    }

                                    &.low {
                                        background-color: rgba($stable-color, 0.1);
                                        color: $stable-color;
                                    }
                                }

                                .status-badge {
                                    &.active {
                                        background-color: rgba($primary-color, 0.1);
                                        color: $primary-color;
                                    }

                                    &.resolved {
                                        background-color: rgba($stable-color, 0.1);
                                        color: $stable-color;
                                    }

                                    &.in-remission {
                                        background-color: rgba($follow-up-color, 0.1);
                                        color: darken($follow-up-color, 10%);
                                    }
                                }

                                .medication-dosage {
                                    background-color: rgba($secondary-color, 0.1);
                                    color: $secondary-color;
                                }
                            }

                            .allergy-reaction,
                            .condition-details,
                            .medication-details {
                                font-size: 0.85rem;
                                color: $medium-text;
                            }
                        }
                    }

                    .more-link {
                        display: block;
                        text-align: center;
                        font-size: 0.85rem;
                        color: $primary-color;
                        text-decoration: none;
                        margin-top: 0.75rem;
                        font-weight: 500;

                        &:hover {
                            text-decoration: underline;
                        }
                    }

                    .no-data-message {
                        font-size: 0.9rem;
                        color: $medium-text;
                        text-align: center;
                        padding: 1.5rem 0;
                    }
                }
            }
        }

        .recent-records {
            display: grid;
            grid-template-columns: 3fr 2fr;
            gap: 1.5rem;
            margin-bottom: 2rem;

            @media (max-width: $breakpoint-lg) {
                grid-template-columns: 1fr;
            }

            .recent-section {
                @include card;
                padding: 1.5rem;

                .section-header {
                    @include flex-between;
                    margin-bottom: 1rem;

                    h3 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0;
                        display: flex;
                        align-items: center;

                        svg {
                            margin-right: 0.5rem;
                            color: $primary-color;
                        }
                    }

                    .view-all-link {
                        color: $primary-color;
                        font-size: 0.85rem;
                        text-decoration: none;
                        font-weight: 500;

                        &:hover {
                            text-decoration: underline;
                        }
                    }
                }

                .section-content {
                    .visits-list {
                        .summary-visit-item {
                            display: flex;
                            align-items: center;
                            padding: 0.75rem;
                            background-color: rgba($light-bg, 0.7);
                            border-radius: 8px;
                            margin-bottom: 0.75rem;

                            &:last-child {
                                margin-bottom: 0;
                            }

                            .visit-date {
                                background-color: $primary-color;
                                color: white;
                                border-radius: 6px;
                                min-width: 50px;
                                height: 60px;
                                @include flex-center;
                                flex-direction: column;
                                margin-right: 1rem;

                                .date-day {
                                    font-size: 1.2rem;
                                    font-weight: 600;
                                    line-height: 1;
                                }

                                .date-month {
                                    font-size: 0.7rem;
                                    font-weight: 500;
                                }
                            }

                            .visit-details {
                                flex: 1;
                                min-width: 0;

                                .visit-header {
                                    display: flex;
                                    flex-direction: column;
                                    margin-bottom: 0.25rem;

                                    h4 {
                                        font-size: 0.95rem;
                                        font-weight: 500;
                                        margin: 0 0 0.25rem;
                                    }

                                    .visit-provider {
                                        font-size: 0.8rem;
                                        color: $medium-text;
                                    }
                                }

                                .visit-reason {
                                    font-size: 0.85rem;
                                    color: $medium-text;
                                    margin: 0;
                                    white-space: nowrap;
                                    overflow: hidden;
                                    text-overflow: ellipsis;
                                }
                            }

                            .view-details-link {
                                color: $primary-color;
                                font-size: 0.85rem;
                                text-decoration: none;
                                font-weight: 500;
                                margin-left: 0.75rem;
                                white-space: nowrap;

                                &:hover {
                                    text-decoration: underline;
                                }
                            }
                        }
                    }

                    .lab-results-list {
                        .summary-lab-item {
                            padding: 0.75rem;
                            background-color: rgba($light-bg, 0.7);
                            border-radius: 8px;

                            .lab-header {
                                @include flex-between;
                                margin-bottom: 0.75rem;

                                h4 {
                                    font-size: 0.95rem;
                                    font-weight: 500;
                                    margin: 0;
                                }

                                .lab-date {
                                    font-size: 0.8rem;
                                    color: $medium-text;
                                }
                            }

                            .key-results {
                                margin-bottom: 0.75rem;

                                .result-item {
                                    display: flex;
                                    align-items: center;
                                    margin-bottom: 0.5rem;

                                    &:last-child {
                                        margin-bottom: 0;
                                    }

                                    .result-name {
                                        font-size: 0.85rem;
                                        font-weight: 500;
                                        margin-right: 0.5rem;
                                    }

                                    .result-value {
                                        font-size: 0.85rem;
                                        margin-right: 0.5rem;
                                    }

                                    .result-flag {
                                        font-size: 0.75rem;
                                        font-weight: 500;
                                        padding: 0.15rem 0.4rem;
                                        border-radius: 4px;

                                        &.high {
                                            background-color: rgba($danger-color, 0.1);
                                            color: $danger-color;
                                        }

                                        &.low {
                                            background-color: rgba($follow-up-color, 0.1);
                                            color: darken($follow-up-color, 10%);
                                        }

                                        &.normal {
                                            background-color: rgba($stable-color, 0.1);
                                            color: $stable-color;
                                        }
                                    }
                                }
                            }

                            .view-details-link {
                                display: block;
                                text-align: right;
                                color: $primary-color;
                                font-size: 0.85rem;
                                text-decoration: none;
                                font-weight: 500;

                                &:hover {
                                    text-decoration: underline;
                                }
                            }
                        }
                    }

                    .no-data-message {
                        font-size: 0.9rem;
                        color: $medium-text;
                        text-align: center;
                        padding: 1.5rem 0;
                    }
                }
            }
        }

        .action-buttons {
            display: flex;
            gap: 1rem;

            .action-button {
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0.85rem;
                border-radius: 8px;
                font-size: 1rem;
                font-weight: 500;
                text-decoration: none;
                cursor: pointer;
                transition: $transition-standard;

                svg {
                    margin-right: 0.5rem;
                }

                &.primary {
                    background-color: $primary-color;
                    color: white;
                    border: none;

                    &:hover {
                        background-color: darken($primary-color, 5%);
                        transform: translateY(-2px);
                        box-shadow: 0 4px 6px rgba($primary-color, 0.2);
                    }
                }

                &.secondary {
                    background-color: white;
                    color: $primary-color;
                    border: 1px solid $primary-color;

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }
    }

    // Allergies Tab
    .allergies-tab {
        .section-header-with-actions {
            @include flex-between;
            margin-bottom: 1.5rem;

            h3 {
                font-size: 1.3rem;
                font-weight: 600;
                margin: 0;
                display: flex;
                align-items: center;

                svg {
                    margin-right: 0.5rem;
                    color: $primary-color;
                }
            }

            .section-actions {
                .add-btn {
                    display: flex;
                    align-items: center;
                    padding: 0.6rem 1rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.9rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }

        .allergies-list-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;

            @media (max-width: $breakpoint-sm) {
                grid-template-columns: 1fr;
            }

            .allergy-card {
                @include card;
                padding: 1.5rem;
                position: relative;

                .allergy-header {
                    margin-bottom: 1rem;

                    h4 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0 0 0.5rem;
                    }

                    .severity-badge {
                        display: inline-block;
                        font-size: 0.8rem;
                        font-weight: 500;
                        padding: 0.25rem 0.5rem;
                        border-radius: 4px;

                        &.high {
                            background-color: rgba($danger-color, 0.1);
                            color: $danger-color;
                        }

                        &.moderate {
                            background-color: rgba($follow-up-color, 0.1);
                            color: darken($follow-up-color, 10%);
                        }

                        &.low {
                            background-color: rgba($stable-color, 0.1);
                            color: $stable-color;
                        }
                    }
                }

                .allergy-details {
                    margin-bottom: 1rem;

                    .detail-item {
                        margin-bottom: 0.5rem;

                        &:last-child {
                            margin-bottom: 0;
                        }

                        .detail-label {
                            font-size: 0.85rem;
                            font-weight: 500;
                            color: $medium-text;
                            margin-right: 0.5rem;
                        }

                        .detail-value {
                            font-size: 0.9rem;
                        }
                    }
                }

                .allergy-warning {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem;
                    background-color: rgba($danger-color, 0.05);
                    border-radius: 6px;
                    margin-bottom: 0.5rem;

                    svg {
                        color: $danger-color;
                        margin-right: 0.5rem;
                        font-size: 0.9rem;
                    }

                    span {
                        font-size: 0.85rem;
                        color: $dark-text;
                    }
                }

                .edit-btn {
                    position: absolute;
                    top: 1rem;
                    right: 1rem;
                    width: 36px;
                    height: 36px;
                    @include flex-center;
                    background-color: white;
                    border: 1px solid $border-color;
                    border-radius: 8px;
                    color: $medium-text;
                    cursor: pointer;
                    transition: $transition-standard;

                    &:hover {
                        background-color: $light-bg;
                        color: $primary-color;
                        border-color: rgba($primary-color, 0.3);
                    }
                }
            }

            .no-data-card {
                @include flex-center;
                flex-direction: column;
                padding: 3rem 2rem;
                background-color: white;
                border-radius: $border-radius;
                box-shadow: $shadow-md;
                grid-column: 1 / -1;

                .no-data-icon {
                    font-size: 3rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    opacity: 0.5;
                }

                h4 {
                    font-size: 1.3rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                p {
                    font-size: 1rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    text-align: center;
                }

                .action-button {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem 1.5rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.95rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }

                    &.primary {
                        background-color: $primary-color;
                        color: white;
                        border: none;

                        &:hover {
                            background-color: darken($primary-color, 5%);
                            box-shadow: 0 4px 6px rgba($primary-color, 0.2);
                        }
                    }
                }
            }
        }
    }

    // Conditions Tab - Similar structure to allergies tab
    .conditions-tab {
        @extend .allergies-tab;

        .conditions-list.detailed {
            @extend .allergies-list-detailed;

            .condition-card {
                @extend .allergy-card;

                .condition-header {
                    @extend .allergy-header;

                    .status-badge {
                        display: inline-block;
                        font-size: 0.8rem;
                        font-weight: 500;
                        padding: 0.25rem 0.5rem;
                        border-radius: 4px;

                        &.active {
                            background-color: rgba($primary-color, 0.1);
                            color: $primary-color;
                        }

                        &.resolved {
                            background-color: rgba($stable-color, 0.1);
                            color: $stable-color;
                        }

                        &.in-remission {
                            background-color: rgba($follow-up-color, 0.1);
                            color: darken($follow-up-color, 10%);
                        }
                    }
                }

                .condition-details {
                    @extend .allergy-details;
                }
            }
        }
    }

    // Medications Tab - Similar structure to allergies tab
    .medications-tab {
        @extend .allergies-tab;

        .medications-list.detailed {
            @extend .allergies-list-detailed;

            .medication-card {
                @extend .allergy-card;

                .medication-header {
                    @extend .allergy-header;

                    .medication-dosage {
                        display: inline-block;
                        font-size: 0.8rem;
                        font-weight: 500;
                        padding: 0.25rem 0.5rem;
                        border-radius: 4px;
                        background-color: rgba($secondary-color, 0.1);
                        color: $secondary-color;
                    }
                }

                .medication-details {
                    @extend .allergy-details;
                }
            }
        }
    }

    // Visits Tab
    .visits-tab {
        .section-header-with-actions {
            @include flex-between;
            margin-bottom: 1.5rem;

            h3 {
                font-size: 1.3rem;
                font-weight: 600;
                margin: 0;
                display: flex;
                align-items: center;

                svg {
                    margin-right: 0.5rem;
                    color: $primary-color;
                }
            }

            .section-actions {
                .add-btn {
                    display: flex;
                    align-items: center;
                    padding: 0.6rem 1rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.9rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }

        .visit-detail-view {
            .back-to-list-btn {
                display: flex;
                align-items: center;
                padding: 0.6rem 1rem;
                background-color: white;
                border: 1px solid $border-color;
                border-radius: 8px;
                color: $medium-text;
                font-size: 0.9rem;
                font-weight: 500;
                cursor: pointer;
                margin-bottom: 1.5rem;
                transition: $transition-standard;

                svg {
                    margin-right: 0.5rem;
                }

                &:hover {
                    background-color: $light-bg;
                    color: $primary-color;
                    border-color: rgba($primary-color, 0.3);
                }
            }

            .visit-detail-header {
                margin-bottom: 1.5rem;

                h3 {
                    font-size: 1.4rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                .provider-info {
                    font-size: 0.95rem;
                    color: $medium-text;
                }
            }

            .visit-detail-card {
                @include card;
                padding: 1.5rem;

                .card-section {
                    margin-bottom: 1.5rem;

                    &:last-child {
                        margin-bottom: 0;
                    }

                    h4 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0 0 1rem;
                        color: $dark-text;
                    }

                    p {
                        font-size: 0.95rem;
                        line-height: 1.5;
                        color: $dark-text;
                        margin: 0;
                    }

                    .vitals-grid.detail {
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        gap: 1rem;

                        @media (max-width: $breakpoint-sm) {
                            grid-template-columns: 1fr;
                        }

                        .vital-item {
                            background-color: rgba($light-bg, 0.5);
                            padding: 0.75rem;
                            border-radius: 6px;

                            .vital-label {
                                font-size: 0.85rem;
                                font-weight: 500;
                                color: $medium-text;
                                margin-right: 0.5rem;
                            }

                            .vital-value {
                                font-size: 0.95rem;
                                font-weight: 500;
                            }
                        }
                    }

                    .diagnoses-list,
                    .prescriptions-list {
                        list-style: none;
                        padding: 0;
                        margin: 0;

                        li {
                            background-color: rgba($light-bg, 0.5);
                            padding: 0.75rem;
                            border-radius: 6px;
                            margin-bottom: 0.75rem;
                            font-size: 0.95rem;

                            &:last-child {
                                margin-bottom: 0;
                            }
                        }
                    }
                }
            }
        }

        .visits-list-view {
            .visits-timeline {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;

                .visit-timeline-item {
                    display: flex;
                    background-color: white;
                    border-radius: $border-radius;
                    box-shadow: $shadow-sm;
                    overflow: hidden;
                    cursor: pointer;
                    transition: $transition-standard;

                    &:hover {
                        box-shadow: $shadow-md;
                        transform: translateY(-3px);
                    }

                    .visit-date {
                        background-color: $primary-color;
                        color: white;
                        padding: 1.25rem 1rem;
                        min-width: 80px;
                        @include flex-center;
                        flex-direction: column;

                        .date-day {
                            font-size: 1.5rem;
                            font-weight: 600;
                        }

                        .date-month {
                            font-size: 0.85rem;
                            font-weight: 500;
                        }

                        .date-year {
                            font-size: 0.75rem;
                            margin-top: 0.25rem;
                        }
                    }

                    .visit-content {
                        flex: 1;
                        padding: 1.25rem;

                        .visit-header {
                            @include flex-between;
                            margin-bottom: 0.5rem;

                            h4 {
                                font-size: 1.1rem;
                                font-weight: 600;
                                margin: 0;
                            }

                            .visit-id {
                                font-size: 0.85rem;
                                color: $medium-text;
                            }
                        }

                        .visit-provider {
                            font-size: 0.9rem;
                            color: $medium-text;
                            margin: 0 0 0.5rem;
                        }

                        .visit-reason {
                            font-size: 0.95rem;
                            margin: 0 0 0.75rem;
                        }

                        .visit-tags {
                            display: flex;
                            flex-wrap: wrap;
                            gap: 0.5rem;

                            .tag {
                                background-color: rgba($primary-color, 0.1);
                                color: $primary-color;
                                font-size: 0.8rem;
                                padding: 0.25rem 0.5rem;
                                border-radius: 4px;
                            }

                            .more-tag {
                                background-color: rgba($light-bg, 0.8);
                                color: $medium-text;
                                font-size: 0.8rem;
                                padding: 0.25rem 0.5rem;
                                border-radius: 4px;
                            }
                        }
                    }
                }
            }

            .no-data-card {
                @include flex-center;
                flex-direction: column;
                padding: 3rem 2rem;
                background-color: white;
                border-radius: $border-radius;
                box-shadow: $shadow-md;

                .no-data-icon {
                    font-size: 3rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    opacity: 0.5;
                }

                h4 {
                    font-size: 1.3rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                p {
                    font-size: 1rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    text-align: center;
                }

                .action-button {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem 1.5rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.95rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }
    }

    // Labs Tab
    .labs-tab {
        .section-header-with-actions {
            @include flex-between;
            margin-bottom: 1.5rem;

            h3 {
                font-size: 1.3rem;
                font-weight: 600;
                margin: 0;
                display: flex;
                align-items: center;

                svg {
                    margin-right: 0.5rem;
                    color: $primary-color;
                }
            }

            .section-actions {
                .add-btn {
                    display: flex;
                    align-items: center;
                    padding: 0.6rem 1rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.9rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }

        .lab-detail-view {
            .back-to-list-btn {
                display: flex;
                align-items: center;
                padding: 0.6rem 1rem;
                background-color: white;
                border: 1px solid $border-color;
                border-radius: 8px;
                color: $medium-text;
                font-size: 0.9rem;
                font-weight: 500;
                cursor: pointer;
                margin-bottom: 1.5rem;
                transition: $transition-standard;

                svg {
                    margin-right: 0.5rem;
                }

                &:hover {
                    background-color: $light-bg;
                    color: $primary-color;
                    border-color: rgba($primary-color, 0.3);
                }
            }

            .lab-detail-header {
                margin-bottom: 1.5rem;

                h3 {
                    font-size: 1.4rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                .lab-meta {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 1rem;
                    font-size: 0.95rem;
                    color: $medium-text;
                }
            }

            .lab-detail-card {
                @include card;
                padding: 1.5rem;

                .results-table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-bottom: 1.5rem;

                    th,
                    td {
                        padding: 0.75rem;
                        text-align: left;
                        border-bottom: 1px solid $border-color;
                    }

                    th {
                        font-size: 0.9rem;
                        font-weight: 600;
                        color: $medium-text;
                        background-color: rgba($light-bg, 0.5);
                    }

                    td {
                        font-size: 0.95rem;
                    }

                    .result-row {
                        &.high {
                            background-color: rgba($danger-color, 0.03);
                        }

                        &.low {
                            background-color: rgba($follow-up-color, 0.03);
                        }

                        &.normal {
                            background-color: rgba($stable-color, 0.03);
                        }
                    }

                    .result-value {
                        font-weight: 500;
                    }

                    .result-flag {
                        display: inline-block;
                        font-size: 0.8rem;
                        font-weight: 500;
                        padding: 0.25rem 0.5rem;
                        border-radius: 4px;

                        &.high {
                            background-color: rgba($danger-color, 0.1);
                            color: $danger-color;
                        }

                        &.low {
                            background-color: rgba($follow-up-color, 0.1);
                            color: darken($follow-up-color, 10%);
                        }

                        &.normal {
                            background-color: rgba($stable-color, 0.1);
                            color: $stable-color;
                        }
                    }
                }

                .summary-section {
                    h4 {
                        font-size: 1.1rem;
                        font-weight: 600;
                        margin: 0 0 0.75rem;
                    }

                    p {
                        font-size: 0.95rem;
                        line-height: 1.5;
                        margin: 0;
                    }
                }
            }
        }

        .labs-list-view {
            .lab-results-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                gap: 1.5rem;

                @media (max-width: $breakpoint-sm) {
                    grid-template-columns: 1fr;
                }

                .lab-result-card {
                    @include card;
                    padding: 1.5rem;
                    cursor: pointer;

                    .lab-header {
                        @include flex-between;
                        margin-bottom: 0.75rem;

                        h4 {
                            font-size: 1.1rem;
                            font-weight: 600;
                            margin: 0;
                        }

                        .lab-date {
                            font-size: 0.85rem;
                            color: $medium-text;
                        }
                    }

                    .lab-meta {
                        display: flex;
                        gap: 1rem;
                        margin-bottom: 1rem;
                        font-size: 0.9rem;
                        color: $medium-text;

                        span {
                            display: flex;
                            align-items: center;

                            svg {
                                margin-right: 0.5rem;
                            }
                        }
                    }

                    .lab-highlights {
                        background-color: rgba($light-bg, 0.5);
                        padding: 1rem;
                        border-radius: 8px;
                        margin-bottom: 1rem;

                        h5 {
                            font-size: 0.95rem;
                            font-weight: 600;
                            margin: 0 0 0.75rem;
                        }

                        .result-highlights {
                            .highlight-item {
                                display: flex;
                                align-items: center;
                                justify-content: space-between;
                                margin-bottom: 0.5rem;

                                &:last-child {
                                    margin-bottom: 0;
                                }

                                .highlight-name {
                                    font-size: 0.9rem;
                                }

                                .highlight-value {
                                    display: flex;
                                    align-items: center;
                                    gap: 0.5rem;

                                    span {
                                        font-size: 0.9rem;
                                        font-weight: 500;

                                        &.highlight-flag {
                                            font-size: 0.75rem;
                                            padding: 0.15rem 0.35rem;
                                            border-radius: 4px;

                                            &.high {
                                                background-color: rgba($danger-color, 0.1);
                                                color: $danger-color;
                                            }

                                            &.low {
                                                background-color: rgba($follow-up-color, 0.1);
                                                color: darken($follow-up-color, 10%);
                                            }

                                            &.normal {
                                                background-color: rgba($stable-color, 0.1);
                                                color: $stable-color;
                                            }
                                        }
                                    }
                                }
                            }

                            .more-results {
                                font-size: 0.85rem;
                                color: $medium-text;
                                margin-top: 0.5rem;
                                text-align: center;
                            }

                            .all-normal {
                                font-size: 0.9rem;
                                color: $stable-color;
                                font-weight: 500;
                                text-align: center;
                                padding: 0.5rem;
                            }
                        }
                    }

                    .view-full-results-btn {
                        width: 100%;
                        padding: 0.6rem;
                        background-color: white;
                        border: 1px solid $primary-color;
                        border-radius: 6px;
                        color: $primary-color;
                        font-size: 0.9rem;
                        font-weight: 500;
                        cursor: pointer;
                        transition: $transition-standard;

                        &:hover {
                            background-color: rgba($primary-color, 0.05);
                        }
                    }
                }
            }

            .no-data-card {
                @include flex-center;
                flex-direction: column;
                padding: 3rem 2rem;
                background-color: white;
                border-radius: $border-radius;
                box-shadow: $shadow-md;

                .no-data-icon {
                    font-size: 3rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    opacity: 0.5;
                }

                h4 {
                    font-size: 1.3rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                p {
                    font-size: 1rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    text-align: center;
                }

                .action-button {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem 1.5rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.95rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }
    }

    // Documents Tab
    .documents-tab {
        .section-header-with-actions {
            @include flex-between;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;

            h3 {
                font-size: 1.3rem;
                font-weight: 600;
                margin: 0;
                display: flex;
                align-items: center;

                svg {
                    margin-right: 0.5rem;
                    color: $primary-color;
                }
            }

            .section-actions {
                display: flex;
                gap: 1rem;
                flex-wrap: wrap;

                .search-container {
                    position: relative;

                    .search-icon {
                        position: absolute;
                        left: 0.75rem;
                        top: 50%;
                        transform: translateY(-50%);
                        color: $medium-text;
                        font-size: 0.9rem;
                    }

                    .search-input {
                        padding: 0.6rem 1rem 0.6rem 2.25rem;
                        width: 250px;
                        border: 1px solid $border-color;
                        border-radius: 8px;
                        font-size: 0.9rem;
                        outline: none;

                        &:focus {
                            border-color: $primary-color;
                            box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
                        }
                    }
                }

                .add-btn {
                    display: flex;
                    align-items: center;
                    padding: 0.6rem 1rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.9rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }

        .documents-list {
            .documents-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                gap: 1.5rem;

                @media (max-width: $breakpoint-sm) {
                    grid-template-columns: 1fr;
                }

                .document-card {
                    @include card;
                    padding: 1.5rem;
                    display: flex;
                    flex-direction: column;

                    .document-icon {
                        @include flex-center;
                        width: 60px;
                        height: 60px;
                        border-radius: 8px;
                        background-color: rgba($primary-color, 0.1);
                        color: $primary-color;
                        margin-bottom: 1rem;
                        font-size: 1.5rem;
                    }

                    .document-info {
                        flex: 1;
                        margin-bottom: 1.25rem;

                        h4 {
                            font-size: 1.1rem;
                            font-weight: 600;
                            margin: 0 0 0.5rem;
                        }

                        .document-date {
                            display: block;
                            font-size: 0.85rem;
                            color: $medium-text;
                            margin-bottom: 0.75rem;
                        }

                        .document-description {
                            font-size: 0.95rem;
                            margin: 0 0 0.75rem;
                        }

                        .document-uploader {
                            font-size: 0.85rem;
                            color: $medium-text;
                            margin: 0;
                        }
                    }

                    .document-actions {
                        display: flex;
                        gap: 0.75rem;

                        .document-action-btn {
                            flex: 1;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            padding: 0.6rem;
                            border-radius: 6px;
                            font-size: 0.9rem;
                            font-weight: 500;
                            cursor: pointer;
                            transition: $transition-standard;

                            svg {
                                margin-right: 0.5rem;
                            }

                            &.view {
                                background-color: white;
                                border: 1px solid $primary-color;
                                color: $primary-color;

                                &:hover {
                                    background-color: rgba($primary-color, 0.05);
                                }
                            }

                            &.download {
                                background-color: $primary-color;
                                color: white;
                                border: none;

                                &:hover {
                                    background-color: darken($primary-color, 5%);
                                }
                            }
                        }
                    }
                }
            }

            .no-data-card {
                @include flex-center;
                flex-direction: column;
                padding: 3rem 2rem;
                background-color: white;
                border-radius: $border-radius;
                box-shadow: $shadow-md;

                .no-data-icon {
                    font-size: 3rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    opacity: 0.5;
                }

                h4 {
                    font-size: 1.3rem;
                    font-weight: 600;
                    margin: 0 0 0.5rem;
                }

                p {
                    font-size: 1rem;
                    color: $medium-text;
                    margin-bottom: 1.5rem;
                    text-align: center;
                }

                .action-button {
                    display: flex;
                    align-items: center;
                    padding: 0.75rem 1.5rem;
                    background-color: white;
                    border: 1px solid $primary-color;
                    border-radius: 8px;
                    color: $primary-color;
                    font-size: 0.95rem;
                    font-weight: 500;
                    cursor: pointer;
                    transition: $transition-standard;

                    svg {
                        margin-right: 0.5rem;
                    }

                    &:hover {
                        background-color: rgba($primary-color, 0.05);
                        transform: translateY(-2px);
                    }
                }
            }
        }
    }
}